<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ZEUS‚ö°Ô∏èP2P</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600&family=Rajdhani:wght@500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" media="print" onload="this.media='all'">

    <style>
        /* --- CSS CR√çTICO --- */
        :root { --primary: #0ABAB5; --bg-dark: #020205; --text-main: #ffffff; --glass: rgba(255,255,255,0.05); }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Outfit', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background-color: var(--bg-dark); color: var(--text-main); height: 100vh; overflow: hidden; display: flex; flex-direction: column; }

        /* UTILIT√ÅRIOS */
        .hidden { display: none !important; opacity: 0; pointer-events: none; }
        .fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* ESTILOS DO APP */
        .btn-primary { background: linear-gradient(135deg, #0ABAB5, #0F52BA); color: #fff; border: none; padding: 16px; border-radius: 14px; font-weight: 600; width: 100%; margin-top:10px; cursor: pointer; box-shadow: 0 4px 15px rgba(10, 186, 181, 0.3); }
        .custom-input { width: 100%; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); padding: 14px; border-radius: 12px; color: #fff; margin-bottom: 10px; outline: none; }
        
        /* LOGIN */
        .login-card { background: rgba(20, 20, 30, 0.7); border: 1px solid rgba(255,255,255,0.1); border-radius: 24px; padding: 25px; margin-bottom: 20px; text-align: center; backdrop-filter: blur(10px); }
        .login-avatar { width: 80px; height: 80px; border-radius: 50%; background: #222; margin: 0 auto 15px auto; border: 2px solid var(--primary); background-size: cover; background-position: center; }

        /* DASHBOARD */
        .screen-header { padding: 20px 24px; display: flex; justify-content: space-between; align-items: center; }
        .stat-card-main { background: linear-gradient(180deg, rgba(0, 224, 150, 0.1), rgba(0,0,0,0)); border: 1px solid rgba(0, 224, 150, 0.3); border-radius: 24px; padding: 20px; margin: 0 20px 20px 20px; }
        .actions-menu { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; padding: 0 20px; margin-bottom: 30px; }
        .menu-item { display: flex; flex-direction: column; align-items: center; gap: 6px; font-size: 0.75rem; color: #ccc; cursor: pointer; }
        .menu-btn { width: 55px; height: 55px; background: rgba(255,255,255,0.08); border-radius: 18px; display: flex; align-items: center; justify-content: center; font-size: 1.3rem; color: #fff; transition: 0.2s; border: 1px solid rgba(255,255,255,0.05); }
        .menu-btn:active { background: rgba(10, 186, 181, 0.2); border-color: var(--primary); }

        /* TELAS INTERNAS */
        .screen-content { padding: 20px; padding-bottom: 80px; overflow-y: auto; height: 100%; }
        .back-btn { width: 40px; height: 40px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; }
        .calc-card { background: rgba(255,255,255,0.03); border-radius: 16px; padding: 15px; margin: 15px 0; border: 1px solid rgba(255,255,255,0.1); }
        .calc-row { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 0.9rem; color: #aaa; }
        .val-display { font-weight: 700; color: #fff; font-family: 'Rajdhani'; }

        /* EXTRAS */
        .chip-grid { display: flex; gap: 8px; margin-bottom: 15px; }
        .chip-btn { flex: 1; padding: 10px; background: rgba(255,255,255,0.05); border-radius: 8px; text-align: center; font-size: 0.8rem; cursor: pointer; border: 1px solid transparent; }
        .chip-btn.active { border-color: var(--primary); background: rgba(10, 186, 181, 0.15); color: var(--primary); }

        /* HERO ANIMATION */
        @keyframes heroFloat {
            0% { transform: translateY(0); filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.3)); }
            50% { transform: translateY(-10px); filter: drop-shadow(0 0 30px rgba(255, 215, 0, 0.6)); }
            100% { transform: translateY(0); filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.3)); }
        }
        .hero-logo-animate { animation: heroFloat 3.5s ease-in-out infinite; }
    </style>
</head>
<body>

    <div id="token-modal" class="modal-overlay" onclick="closeTokenModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-title">Selecione o Token</div>
            <div id="token-list-container" class="token-list"></div>
        </div>
    </div>

    <div id="rules-modal" class="rules-overlay" onclick="closeRules()">
        <div class="rules-card" onclick="event.stopPropagation()">
            <h3 style="font-family:'Rajdhani'; font-size:1.5rem; margin-bottom:20px; text-align:center; color:#fff;"><i class="fas fa-file-contract"></i> REGRAS</h3>
            <div class="rules-content">
                <p><strong>üìÑ | REGRAS GATEWAY ‚Ä¢ ZEUS:</strong></p>
                <h4>üì• ‚Äî Dep√≥sitos/Pagamentos PIX sem KYC:</h4>
                <p>M√≠nimo: R$5,00 | M√°ximo: R$3.000,00<br>Valores por CPF ou CNPJ.<br>Cada CPF/CNPJ pode pagar at√© R$6.000,00 a cada 24h.</p>
                <h4>‚ôªÔ∏è ‚Äî Taxas Dep√≥sitos/Pagamentos PIX:</h4>
                <p>De R$5,00 √† R$199,99 = R$2,00 de Taxa.<br>Acima de R$200,00 = 0 Taxa.</p>
                <h4>üì§ ‚Äî Saques/Retiradas PIX sem KYC:</h4>
                <p>M√≠nimo: R$150,00 | M√°ximo: R$5.930,00<br>Valores por CPF ou CNPJ.</p>
                <h4>üßæ ‚Äî Pagamento de Boleto sem KYC:</h4>
                <p>Limite: At√© R$ 20.000,00 por boleto.</p>
                <h4>‚ôªÔ∏è ‚Äî Taxas Saque/Retirada:</h4>
                <p>BOLETO = 20%<br>PIX = 15%<br>CRYPTO = 10%</p>
                <div style="margin-top:20px; font-size:0.8rem; color:var(--primary);">„Äã@ZeusServicesOfc<br>„Äã@THxWeb3Dev<br>„ÄãCanal: https://t.me/ZeusP2PFinance</div>
            </div>
            <button class="btn-primary" style="margin-top:20px;" onclick="closeRules()">Entendido</button>
        </div>
    </div>

    <section id="login-screen" class="hidden">
        <div class="screen-content" style="display:flex; flex-direction:column; justify-content:center; height:100vh; padding-bottom:0;">
            <div style="display:flex; justify-content:center; margin-bottom:40px;">
                <div class="hero-logo-animate" style="width:140px; height:140px; background:linear-gradient(180deg, rgba(10,186,181,0.1), rgba(15,82,186,0.2)); border-radius:35px; display:flex; align-items:center; justify-content:center; border:1px solid rgba(255,255,255,0.1); box-shadow:0 0 40px rgba(10,186,181,0.15);">
                   <i class="fas fa-bolt" style="font-size:4.5rem; color:var(--accent); filter:drop-shadow(0 0 20px rgba(255,215,0,0.5));"></i>
               </div>
           </div>

           <div class="login-card">
               <div class="login-avatar" id="tg-avatar"></div>
               <h3 id="tg-name">Usu√°rio Telegram</h3>
               <p id="tg-id" style="font-size:0.8rem; color:#0ABAB5; margin-bottom:15px;">ID: ---</p>
               <button class="btn-primary" onclick="enterApp('telegram')" style="background:#229ED9;">
                   <i class="fab fa-telegram"></i> Entrar com Telegram
               </button>
           </div>

           <div class="login-card">
                <input type="text" class="custom-input" placeholder="Usu√°rio ou E-mail">
                <input type="password" class="custom-input" placeholder="Senha">
                <button class="btn-primary" onclick="enterApp('email')">Entrar</button>
           </div>
        </div>
    </section>

    <section id="main-app" class="hidden">
        <div class="screen-header">
            <div><span style="font-size:0.8rem; color:#0ABAB5;">Bem-vindo,</span><h3 id="dash-name">Usu√°rio</h3></div>
            <i class="fas fa-bell" style="font-size:1.2rem; opacity:0.8;"></i>
        </div>
        
        <div class="stat-card-main">
            <p style="font-size:0.8rem; color:#00E096; letter-spacing:1px; margin-bottom:5px;">SALDO DISPON√çVEL</p>
            <h1 style="font-family:'Rajdhani'; font-size:2.8rem; margin:0;">R$ 14.250,90</h1>
        </div>

        <div class="actions-menu">
            <div class="menu-item" onclick="openScreen('pix-withdraw')"><div class="menu-btn"><i class="fas fa-money-bill-transfer"></i></div><span>Sacar PIX</span></div>
            <div class="menu-item" onclick="openScreen('charge-screen')"><div class="menu-btn"><i class="fas fa-hand-holding-dollar"></i></div><span>Cobrar</span></div>
            <div class="menu-item" onclick="openScreen('boleto-screen')"><div class="menu-btn"><i class="fas fa-barcode"></i></div><span>Boleto</span></div>
            <div class="menu-item" onclick="openScreen('crypto-withdraw')"><div class="menu-btn"><i class="fas fa-wallet"></i></div><span>Cripto</span></div>
        </div>

        <div style="padding: 0 20px;">
            <h4 style="font-family:'Rajdhani'; margin-bottom:15px; opacity:0.8;">Recursos</h4>
            <div style="background:rgba(255,255,255,0.03); border-radius:16px; padding:15px; display:flex; justify-content:space-between; margin-bottom:10px;">
                <div style="display:flex; gap:15px; align-items:center;">
                    <i class="fas fa-shield-alt" style="color:var(--primary); font-size:1.2rem;"></i>
                    <div><div style="font-weight:600; font-size:0.9rem;">Seguran√ßa Total</div><div style="font-size:0.7rem; opacity:0.6;">Prote√ß√£o criptografada</div></div>
                </div>
            </div>
            <div style="background:rgba(255,255,255,0.03); border-radius:16px; padding:15px; display:flex; justify-content:space-between;">
                <div style="display:flex; gap:15px; align-items:center;">
                    <i class="fas fa-user-secret" style="color:var(--accent); font-size:1.2rem;"></i>
                    <div><div style="font-weight:600; font-size:0.9rem;">Sem KYC</div><div style="font-size:0.7rem; opacity:0.6;">Anonimato garantido</div></div>
                </div>
            </div>
        </div>
    </section>

    <section id="analytics-screen" class="hidden">
        <div class="screen-header">
            <div class="back-btn" onclick="backToMain()"><i class="fas fa-arrow-left"></i></div>
            <h3 style="font-family: 'Rajdhani'; font-weight: 700;">Performance</h3>
        </div>
        <div class="screen-content">
            <div class="stat-card-main">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <div><div style="font-size:0.8rem; color:var(--color-green); text-transform: uppercase; letter-spacing:1px; margin-bottom:5px;">SALDO</div><div style="font-size:0.8rem; color:var(--text-muted);">Conta principal</div></div>
                    <div style="font-family:'Rajdhani'; font-size:1.8rem; font-weight:700; color:var(--color-green);">R$ 14.250,90</div>
                </div>
                <div style="height:100px; width:100%; margin:20px 0;"><canvas id="performanceChart"></canvas></div>
                <div style="display:flex; gap:10px; margin-top:15px;">
                    <div style="flex:1; background:rgba(0,0,0,0.3); padding:10px; border-radius:12px; text-align:center;"><div style="font-size:0.65rem; color:var(--text-muted); margin-bottom:5px;">TOTAL RECEBIDO</div><div style="font-family:'Rajdhani'; font-weight:700; color:var(--color-green);">R$ 14.250,90</div></div>
                    <div style="flex:1; background:rgba(0,0,0,0.3); padding:10px; border-radius:12px; text-align:center;"><div style="font-size:0.65rem; color:var(--text-muted); margin-bottom:5px;">TOTAL SACADO</div><div style="font-family:'Rajdhani'; font-weight:700; color:var(--color-green);">R$ 0,00</div></div>
                </div>
            </div>
            <div class="stat-grid-colored">
                <div class="stat-box box-pink"><div class="stat-title" style="color:#ff4757;">PIX VERIFICADOS</div><div class="stat-value">128</div></div>
                <div class="stat-box box-purple"><div class="stat-title" style="color:#8854D0;">VOLUME VERIFICADO</div><div class="stat-value" style="font-size:1.3rem;">R$ 14.2k</div></div>
                <div class="stat-box box-orange"><div class="stat-title" style="color:#FA8231;">PIX PENDENTES</div><div class="stat-value">0</div></div>
                <div class="stat-box box-blue"><div class="stat-title" style="color:#3867D6;">ULTIMO PAGAMENTO</div><div class="stat-value" style="font-size:1.4rem;">-</div></div>
            </div>
        </div>
    </section>

    <section id="boleto-screen" class="hidden">
        <div class="screen-header"><div class="back-btn" onclick="backToMain()"><i class="fas fa-arrow-left"></i></div><h3>Pagar Boleto</h3></div>
        <div class="screen-content">
            <div id="boleto-step-1">
                <label style="font-size:0.8rem; margin-left:4px;">Valor do Boleto</label><input type="number" id="boleto-val-input" class="custom-input" placeholder="0,00" oninput="updateBoletoCalc()">
                <label style="font-size:0.8rem; margin-left:4px;">C√≥digo de Barras</label><input type="text" id="boleto-code-input" class="custom-input" placeholder="Digite ou cole o c√≥digo" oninput="checkBoletoValid()">
                <div class="calc-card">
                    <div class="calc-row"><span>Valor Boleto</span><span class="val-display" id="boleto-disp-req">R$ 0,00</span></div>
                    <div class="calc-row"><span style="color:var(--color-red)">Taxa Servi√ßo (20%)</span><span class="val-display" style="color:var(--color-red)" id="boleto-disp-fee">- R$ 0,00</span></div>
                    <div class="calc-row final"><span style="color:var(--primary)">Total Descontado</span><span class="val-display" style="color:var(--primary)" id="boleto-disp-total">R$ 0,00</span></div>
                </div>
                <button id="btn-boleto-req" class="btn-primary" disabled onclick="submitBoleto()">Pagar Boleto</button>
            </div>
            <div id="boleto-step-2" class="hidden" style="text-align: center; padding-top: 40px;">
                <i class="fas fa-check-circle" style="font-size: 4rem; color: var(--color-green); margin-bottom: 20px;"></i><h2 style="font-family:'Rajdhani'; margin-bottom: 10px;">Pagamento Solicitado!</h2>
                <p style="color:var(--text-muted); font-size:0.9rem; margin-bottom: 30px;">Os pagamentos est√£o sendo processados manualmente temporariamente.<br>Envie os dados para o suporte finalizar.</p>
                <button class="btn-primary btn-telegram" onclick="sendBoletoToSupport()"><i class="fab fa-telegram-plane"></i> Enviar Dados</button>
            </div>
        </div>
    </section>

    <section id="pix-withdraw" class="hidden">
        <div class="screen-header"><div class="back-btn" onclick="backToMain()"><i class="fas fa-arrow-left"></i></div><h3>Sacar PIX</h3></div>
        <div class="screen-content">
            <div id="pix-step-1">
                <label style="font-size:0.8rem; margin-left:4px;">Valor do Saque</label><input type="number" id="pix-val-input" class="custom-input" placeholder="0,00" oninput="updatePixCalc()">
                <div class="chip-grid"><div class="chip-btn" onclick="setPixVal(150)">R$ 150</div><div class="chip-btn" onclick="setPixVal(200)">R$ 200</div><div class="chip-btn" onclick="setPixVal(500)">R$ 500</div><div class="chip-btn" onclick="setPixVal(1000)">R$ 1k</div></div>
                <label style="font-size:0.8rem; margin-left:4px;">Tipo de Chave</label>
                <div class="chip-grid"><div class="chip-btn key-type" onclick="setPixKeyType('CPF/CNPJ', this)">CPF</div><div class="chip-btn key-type" onclick="setPixKeyType('TELEFONE', this)">Celular</div><div class="chip-btn key-type" onclick="setPixKeyType('E-MAIL', this)">E-mail</div><div class="chip-btn key-type" onclick="setPixKeyType('ALEAT√ìRIA', this)">Aleat√≥ria</div></div>
                <input type="text" id="pix-key-input" class="custom-input" placeholder="Informe a chave PIX" oninput="checkPixValid()">
                <div class="calc-card">
                    <div class="calc-row"><span>Valor Solicitado</span><span class="val-display" id="pix-disp-req">R$ 0,00</span></div>
                    <div class="calc-row"><span style="color:var(--color-red)">Taxa (15%)</span><span class="val-display" style="color:var(--color-red)" id="pix-disp-fee">- R$ 0,00</span></div>
                    <div class="calc-row final"><span style="color:var(--primary)">Receber</span><span class="val-display" style="color:var(--primary)" id="pix-disp-total">R$ 0,00</span></div>
                </div>
                <button id="btn-pix-req" class="btn-primary" disabled onclick="submitPix()">Solicitar Saque PIX</button>
            </div>
            <div id="pix-step-2" class="hidden" style="text-align: center; padding-top: 40px;">
                <i class="fas fa-check-circle" style="font-size: 4rem; color: var(--color-green); margin-bottom: 20px;"></i><h2 style="font-family:'Rajdhani'; margin-bottom: 10px;">Saque Solicitado!</h2>
                <p style="color:var(--text-muted); font-size:0.9rem; margin-bottom: 30px;">Os saques est√£o sendo processados manualmente temporariamente.<br>Envie mensagem ao suporte para finalizar.</p>
                <button class="btn-primary btn-telegram" onclick="sendPixToSupport()"><i class="fab fa-telegram-plane"></i> Enviar Mensagem</button>
            </div>
        </div>
    </section>

    <section id="charge-screen" class="hidden">
        <div class="screen-header"><div class="back-btn" onclick="backToMain()"><i class="fas fa-arrow-left"></i></div><h3>Gerar Cobran√ßa</h3></div>
        <div class="screen-content">
            <div id="charge-step-1">
                <label style="font-size:0.8rem; margin-left:4px;">Valor da Cobran√ßa</label><input type="number" id="charge-val-input" class="custom-input" placeholder="0,00" oninput="updateChargeCalc()">
                <div class="info-card"><strong>Taxas e Regras:</strong><br>‚Ä¢ M√≠nimo: R$ 5,00 | M√°ximo: R$ 3.000,00<br>‚Ä¢ R$ 5,00 a R$ 199,99: <strong>R$ 2,00 taxa</strong><br>‚Ä¢ Acima de R$ 200,00: <strong>Taxa ZERO</strong></div>
                <div class="calc-card">
                    <div class="calc-row"><span>Valor Solicitado</span><span class="val-display" id="charge-disp-req">R$ 0,00</span></div>
                    <div class="calc-row"><span style="color:var(--color-red)">Taxa</span><span class="val-display" style="color:var(--color-red)" id="charge-disp-fee">- R$ 0,00</span></div>
                    <div class="calc-row final"><span style="color:var(--primary)">Receber</span><span class="val-display" style="color:var(--primary)" id="charge-disp-total">R$ 0,00</span></div>
                </div>
                <button id="btn-charge-gen" class="btn-primary" disabled onclick="generateRealPix()">Gerar Cobran√ßa PIX</button>
            </div>
            <div id="charge-step-2" class="hidden" style="text-align: center; padding-top: 20px;">
                <h3 style="font-family:'Rajdhani'; margin-bottom: 5px;">Aguardando Pagamento...</h3><div id="status-indicator" style="font-size:0.8rem; color:var(--accent); margin-bottom:15px; animation: pulse 1.5s infinite;">Verificando Status</div>
                <div class="qr-area"><div id="qrcode"></div></div>
                <label style="font-size:0.8rem; color:var(--text-muted); display:block; margin-bottom:5px; text-align:left;">Pix Copia e Cola:</label><textarea id="pix-copy-paste" class="custom-input" style="font-size:0.75rem; height:80px; word-break:break-all;" readonly></textarea>
                <button class="btn-primary" onclick="copyPixCode()">Copiar C√≥digo PIX</button><button style="background:transparent; border:none; color:var(--text-muted); margin-top:20px; text-decoration:underline;" onclick="resetCharge()">Gerar Nova Cobran√ßa</button>
            </div>
        </div>
    </section>

    <section id="crypto-withdraw" class="hidden">
        <div class="screen-header"><div class="back-btn" onclick="backToMain()"><i class="fas fa-arrow-left"></i></div><h3>Sacar Cripto</h3></div>
        <div class="screen-content">
            <div id="crypto-step-1">
                <label style="font-size:0.8rem; margin-left:4px;">Selecione a Rede</label>
                <div class="networks-grid">
                    <div class="net-card" onclick="selectNetwork('BTC')"><span class="net-name">BTC</span><span class="net-token" id="tk-BTC">On-Chain</span></div>
                    <div class="net-card" onclick="selectNetwork('BSC')"><span class="net-name">BSC</span><span class="net-token" id="tk-BSC">Selecionar</span></div>
                    <div class="net-card" onclick="selectNetwork('POL')"><span class="net-name">POL</span><span class="net-token" id="tk-POL">Selecionar</span></div>
                    <div class="net-card" onclick="selectNetwork('BASE')"><span class="net-name">BASE</span><span class="net-token" id="tk-BASE">Selecionar</span></div>
                    <div class="net-card" onclick="selectNetwork('ETH')"><span class="net-name">ETH</span><span class="net-token" id="tk-ETH">Selecionar</span></div>
                    <div class="net-card" onclick="selectNetwork('SOL')"><span class="net-name">SOL</span><span class="net-token" id="tk-SOL">Selecionar</span></div>
                </div>
                <label style="font-size:0.8rem; margin-left:4px;">Valor (R$)</label><input type="number" id="crypto-val-input" class="custom-input" placeholder="0,00" oninput="updateCryptoCalc()">
                <label style="font-size:0.8rem; margin-left:4px;">Endere√ßo da Carteira</label><input type="text" id="crypto-addr-input" class="custom-input" placeholder="Cole o endere√ßo" oninput="checkCryptoValid()">
                <div class="calc-card">
                    <div class="calc-row"><span>Token</span><span class="val-display" style="color:var(--accent)" id="crypto-disp-token">---</span></div>
                    <div class="calc-row"><span>Valor Solicitado</span><span class="val-display" id="crypto-disp-req">R$ 0,00</span></div>
                    <div class="calc-row"><span style="color:var(--color-red)">Taxa Servi√ßo (10%)</span><span class="val-display" style="color:var(--color-red)" id="crypto-disp-fee">- R$ 0,00</span></div>
                    <div class="calc-row"><span style="color:var(--color-red)">Taxa Rede</span><span class="val-display" style="color:var(--color-red)">GR√ÅTIS</span></div>
                    <div class="calc-row final"><span style="color:var(--primary)">Receber (Est.)</span><span class="val-display" style="color:var(--primary)" id="crypto-disp-total">R$ 0,00</span></div>
                </div>
                <button id="btn-crypto-req" class="btn-primary" disabled onclick="submitCrypto()">Solicitar Saque Crypto</button>
            </div>
             <div id="crypto-step-2" class="hidden" style="text-align: center; padding-top: 40px;">
                <i class="fas fa-check-circle" style="font-size: 4rem; color: var(--color-green); margin-bottom: 20px;"></i><h2 style="font-family:'Rajdhani'; margin-bottom: 10px;">Saque Solicitado!</h2>
                <p style="color:var(--text-muted); font-size:0.9rem; margin-bottom: 30px;">Os saques est√£o sendo processados manualmente temporariamente.<br>Envie mensagem ao suporte para finalizar.</p>
                <button class="btn-primary btn-telegram" onclick="sendCryptoToSupport()"><i class="fab fa-telegram-plane"></i> Enviar Mensagem</button>
            </div>
        </div>
    </section>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();
        tg.setHeaderColor('#020205');

        let currentScreen = 'login-screen';
        let pixKeyType = '', cryptoNetwork = '', cryptoToken = '', activeChargeId = null, statusInterval = null, chartInstance = null;
        let userBalance = 14250.90;
        const networkTokens = { 'BTC': ['BTC'], 'BSC': ['BNB', 'USDT', 'USDC'], 'POL': ['POLYGON', 'USDT', 'USDC'], 'BASE': ['ETH', 'USDC'], 'ETH': ['ETHEREUM', 'USDT', 'USDC', 'DAI', 'USDE'], 'SOL': ['SOLANA', 'USDT', 'USDC'] };

        // --- INICIALIZA√á√ÉO IMEDIATA ---
        document.addEventListener('DOMContentLoaded', () => {
            // Tenta pegar dados do Telegram imediatamente
            try {
                const user = tg.initDataUnsafe?.user;
                if (user) {
                    document.getElementById('tg-name').innerText = user.first_name + (user.last_name ? ' ' + user.last_name : '');
                    document.getElementById('tg-id').innerText = "ID: " + user.id;
                    document.getElementById('dash-name').innerText = user.first_name;
                }
            } catch (e) {
                console.log("Modo offline ou navegador externo");
            }

            // Exibe a tela de login sem delay
            const login = document.getElementById('login-screen');
            if (login) {
                login.classList.remove('hidden');
                login.classList.add('fade-in');
            }
        });

        // --- NAVEGA√á√ÉO ---
        function enterApp(method) {
            if(window.Telegram?.WebApp?.HapticFeedback) window.Telegram.WebApp.HapticFeedback.impactOccurred('medium');
            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('main-app').classList.remove('hidden');
            document.getElementById('main-app').classList.add('fade-in');
            currentScreen = 'main-app';
        }

        function backToDash() {
            document.querySelectorAll('section').forEach(el => {
                if(el.id !== 'main-app') el.classList.add('hidden');
            });
            document.getElementById('main-app').classList.remove('hidden');
        }

        function openScreen(id) {
            document.getElementById(currentScreen).classList.add('hidden');
            document.getElementById(id).classList.remove('hidden');
            document.getElementById(id).classList.add('fade-in');
            currentScreen = id;
            if(window.Telegram?.WebApp?.HapticFeedback) window.Telegram.WebApp.HapticFeedback.impactOccurred('light');
        }

        // --- FUN√á√ïES DE NEG√ìCIO (Mantidas) ---
        function formatCurrency(val) { return val.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' }); }
        function openRules() { document.getElementById('rules-modal').style.opacity='1'; document.getElementById('rules-modal').style.pointerEvents='all'; document.querySelector('.rules-card').style.transform='rotateX(0deg)'; }
        function closeRules() { document.getElementById('rules-modal').querySelector('.rules-card').style.transform='rotateX(10deg)'; document.getElementById('rules-modal').style.opacity='0'; document.getElementById('rules-modal').style.pointerEvents='none'; }
        function openAnalytics() { openScreen('analytics-screen'); initChart(); }

        function initChart() {
            if (chartInstance) return;
            const ctx = document.getElementById('performanceChart').getContext('2d');
            const gradient = ctx.createLinearGradient(0, 0, 0, 100);
            gradient.addColorStop(0, 'rgba(0, 224, 150, 0.8)'); gradient.addColorStop(1, 'rgba(0, 224, 150, 0.2)');
            chartInstance = new Chart(ctx, { type: 'bar', data: { labels: ['S', 'T', 'Q', 'Q', 'S', 'S', 'D', 'S', 'T', 'Q'], datasets: [{ label: 'Volume', data: [20, 35, 40, 30, 45, 55, 40, 60, 50, 65], backgroundColor: gradient, borderRadius: 4, barThickness: 12 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { x: { display: false }, y: { display: false } }, animation: { duration: 1500, easing: 'easeOutQuart' } } });
        }

        function updateBoletoCalc() {
            const val = parseFloat(document.getElementById('boleto-val-input').value) || 0;
            const fee = val * 0.20; const total = val + fee;
            document.getElementById('boleto-disp-req').innerText = formatCurrency(val);
            document.getElementById('boleto-disp-fee').innerText = "+ " + formatCurrency(fee);
            document.getElementById('boleto-disp-total').innerText = formatCurrency(total);
            checkBoletoValid();
        }
        function checkBoletoValid() {
            const val = parseFloat(document.getElementById('boleto-val-input').value) || 0;
            const code = document.getElementById('boleto-code-input').value;
            const btn = document.getElementById('btn-boleto-req');
            if(val > 0 && code.length > 5) { btn.disabled = false; } else { btn.disabled = true; }
        }
        function submitBoleto() {
            const val = parseFloat(document.getElementById('boleto-val-input').value) || 0;
            const fee = val * 0.20; const total = val + fee;
            if (val > 20000) { tg.showAlert("O limite m√°ximo por boleto √© de R$ 20.000,00."); return; }
            if (total > userBalance) { tg.showAlert("Saldo insuficiente para pagar este boleto (Valor + Taxa)."); return; }
            if(tg.HapticFeedback) tg.HapticFeedback.impactOccurred('heavy');
            document.getElementById('boleto-step-1').classList.add('hidden');
            document.getElementById('boleto-step-2').classList.remove('hidden');
            document.getElementById('boleto-step-2').classList.add('fade-in');
        }
        function sendBoletoToSupport() {
            const val = document.getElementById('boleto-val-input').value;
            const code = document.getElementById('boleto-code-input').value;
            const msg = `üßæ *SOLICITA√á√ÉO PAGAMENTO BOLETO*%0AValor: R$ ${val}%0AC√≥digo: \`${code}\`%0AID: ${tg.initDataUnsafe?.user?.id}`;
            tg.openTelegramLink(`https://t.me/ZeusServicesOfc?text=${msg}`);
        }

        function setPixVal(val) { document.getElementById('pix-val-input').value = val; updatePixCalc(); }
        function setPixKeyType(type, el) { pixKeyType = type; document.querySelectorAll('.key-type').forEach(e => e.classList.remove('active')); el.classList.add('active'); document.getElementById('pix-key-input').placeholder = `Chave ${type}`; checkPixValid(); }
        function updatePixCalc() {
            const val = parseFloat(document.getElementById('pix-val-input').value) || 0;
            const fee = val * 0.15; const net = val - fee;
            document.getElementById('pix-disp-req').innerText = formatCurrency(val);
            document.getElementById('pix-disp-fee').innerText = "- " + formatCurrency(fee);
            document.getElementById('pix-disp-total').innerText = net > 0 ? formatCurrency(net) : 'R$ 0,00';
            checkPixValid();
        }
        function checkPixValid() {
            const val = parseFloat(document.getElementById('pix-val-input').value) || 0;
            const key = document.getElementById('pix-key-input').value;
            const btn = document.getElementById('btn-pix-req');
            if(val > 0 && pixKeyType !== '' && key.length > 3) { btn.disabled = false; } else { btn.disabled = true; }
        }
        function submitPix() {
            const val = parseFloat(document.getElementById('pix-val-input').value) || 0;
            if (val < 150) { tg.showAlert("O valor m√≠nimo para saque PIX √© R$ 150,00."); return; }
            if (val > userBalance) { tg.showAlert("Saldo insuficiente para esta transa√ß√£o."); return; }
            if (val > 5930) { tg.showAlert("O limite m√°ximo di√°rio para saque PIX √© R$ 5.930,00."); return; }
            if(tg.HapticFeedback) tg.HapticFeedback.impactOccurred('heavy');
            document.getElementById('pix-step-1').classList.add('hidden');
            document.getElementById('pix-step-2').classList.remove('hidden');
            document.getElementById('pix-step-2').classList.add('fade-in');
        }
        function sendPixToSupport() {
            const val = document.getElementById('pix-val-input').value;
            const key = document.getElementById('pix-key-input').value;
            const msg = `üí∏ *SOLICITA√á√ÉO SAQUE PIX*%0AValor: R$ ${val}%0AChave: ${key}%0ATipo: ${pixKeyType}%0AID: ${tg.initDataUnsafe?.user?.id}`;
            tg.openTelegramLink(`https://t.me/ZeusServicesOfc?text=${msg}`);
        }

        function updateChargeCalc() {
            const val = parseFloat(document.getElementById('charge-val-input').value) || 0;
            let fee = 0; if (val >= 5 && val <= 199.99) fee = 2.00; const total = val - fee;
            document.getElementById('charge-disp-req').innerText = formatCurrency(val);
            document.getElementById('charge-disp-fee').innerText = val > 0 ? "- " + formatCurrency(fee) : "R$ 0,00";
            document.getElementById('charge-disp-total').innerText = total > 0 ? formatCurrency(total) : "R$ 0,00";
            const btn = document.getElementById('btn-charge-gen');
            if (val >= 5 && val <= 3000) { btn.disabled = false; } else { btn.disabled = true; }
        }
        async function generateRealPix() {
            if(tg.HapticFeedback) tg.HapticFeedback.impactOccurred('medium');
            const btn = document.getElementById('btn-charge-gen'); const val = document.getElementById('charge-val-input').value; const desc = `User${tg.initDataUnsafe?.user?.id || 'Guest'}`; const originalText = btn.innerText; btn.innerText = "Gerando..."; btn.disabled = true;
            const url = `https://liquidx.pro/api/integrated-payment?value=${val}&description=${desc}&code=YITOWQXGVZETOPAY`;
            try {
                const response = await fetch(url); const data = await response.json();
                if (data.pix && data.pix.success) {
                    const qrString = data.pix.data.response.qrCopyPaste; const txId = data.pix.data.response.id; activeChargeId = txId;
                    document.getElementById('charge-step-1').classList.add('hidden'); document.getElementById('charge-step-2').classList.remove('hidden'); document.getElementById('charge-step-2').classList.add('fade-in');
                    document.getElementById('pix-copy-paste').value = qrString; document.getElementById('qrcode').innerHTML = "";
                    new QRCode(document.getElementById("qrcode"), { text: qrString, width: 180, height: 180, colorDark : "#000000", colorLight : "#ffffff", correctLevel : QRCode.CorrectLevel.L });
                    startPolling(txId);
                } else { tg.showAlert("Erro ao gerar pagamento. Tente novamente."); }
            } catch (error) { console.error(error); tg.showAlert("Erro de conex√£o com o servidor."); } finally { btn.innerText = originalText; btn.disabled = false; }
        }
        function startPolling(txId) {
            if(statusInterval) clearInterval(statusInterval);
            statusInterval = setInterval(async () => {
                try { const response = await fetch('https://liquidx.pro/api/integrated-payment/status', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ "listIds": [txId] }) }); const data = await response.json(); console.log("Status Check:", data); } catch (e) { console.error("Polling error", e); }
            }, 5000); 
        }
        function copyPixCode() { const copyText = document.getElementById("pix-copy-paste"); copyText.select(); copyText.setSelectionRange(0, 99999); navigator.clipboard.writeText(copyText.value); tg.showPopup({message:'C√≥digo PIX copiado!', buttons:[{type:'ok'}]}); }
        function resetCharge() { if(statusInterval) clearInterval(statusInterval); document.getElementById('charge-step-2').classList.add('hidden'); document.getElementById('charge-step-1').classList.remove('hidden'); document.getElementById('charge-val-input').value = ""; document.getElementById('status-indicator').innerText = "Verificando Status"; document.getElementById('status-indicator').style.color = "var(--accent)"; updateChargeCalc(); }

        function selectNetwork(net) { cryptoNetwork = net; document.querySelectorAll('.net-card').forEach(c => c.classList.remove('active')); event.currentTarget.classList.add('active'); if (net === 'BTC') { setToken('BTC'); } else { openTokenModal(net); } }
        function openTokenModal(net) { const list = document.getElementById('token-list-container'); list.innerHTML = ''; networkTokens[net].forEach(token => { const div = document.createElement('div'); div.className = 'token-item'; div.innerHTML = `<span style="font-weight:600;">${token}</span><i class="fas fa-chevron-right" style="font-size:0.8rem; opacity:0.5;"></i>`; div.onclick = () => { setToken(token); closeTokenModal(); }; list.appendChild(div); }); const modal = document.getElementById('token-modal'); modal.style.opacity = '1'; modal.style.pointerEvents = 'all'; modal.querySelector('.modal-content').style.transform = 'translateY(0)'; }
        function closeTokenModal(e) { const modal = document.getElementById('token-modal'); modal.querySelector('.modal-content').style.transform = 'translateY(100%)'; modal.style.opacity = '0'; modal.style.pointerEvents = 'none'; }
        function setToken(token) { cryptoToken = token; document.getElementById(`tk-${cryptoNetwork}`).innerText = token; document.getElementById(`tk-${cryptoNetwork}`).style.color = '#0ABAB5'; updateCryptoCalc(); }
        function updateCryptoCalc() {
            const val = parseFloat(document.getElementById('crypto-val-input').value) || 0;
            const fee = val * 0.10; const net = val - fee;
            document.getElementById('crypto-disp-token').innerText = (cryptoNetwork && cryptoToken) ? `${cryptoNetwork} - ${cryptoToken}` : "---";
            document.getElementById('crypto-disp-req').innerText = formatCurrency(val);
            document.getElementById('crypto-disp-fee').innerText = "- " + formatCurrency(fee);
            document.getElementById('crypto-disp-total').innerText = net > 0 ? formatCurrency(net) : "R$ 0,00";
            checkCryptoValid();
        }
        function checkCryptoValid() { const val = parseFloat(document.getElementById('crypto-val-input').value) || 0; const addr = document.getElementById('crypto-addr-input').value; const btn = document.getElementById('btn-crypto-req'); if(val > 0 && cryptoNetwork && cryptoToken && addr.length > 10) { btn.disabled = false; } else { btn.disabled = true; } }
        function submitCrypto() {
            const val = parseFloat(document.getElementById('crypto-val-input').value) || 0;
            if (val < 150) { tg.showAlert("O valor m√≠nimo para saque Cripto √© R$ 150,00."); return; }
            if (val > userBalance) { tg.showAlert("Saldo insuficiente para esta transa√ß√£o."); return; }
            if(tg.HapticFeedback) tg.HapticFeedback.impactOccurred('heavy');
            document.getElementById('crypto-step-1').classList.add('hidden');
            document.getElementById('crypto-step-2').classList.remove('hidden');
            document.getElementById('crypto-step-2').classList.add('fade-in');
        }
        function sendCryptoToSupport() { const val = document.getElementById('crypto-val-input').value; const addr = document.getElementById('crypto-addr-input').value; const msg = `üöÄ *SOLICITA√á√ÉO SAQUE CRIPTO*%0ARede: ${cryptoNetwork}%0AToken: ${cryptoToken}%0AValor: R$ ${val}%0AAddr: \`${addr}\`%0AID: ${tg.initDataUnsafe?.user?.id}`; tg.openTelegramLink(`https://t.me/ZeusServicesOfc?text=${msg}`); }

        const styleSheet = document.createElement("style"); styleSheet.innerText = `@keyframes pulse { 0% { opacity: 0.6; } 50% { opacity: 1; } 100% { opacity: 0.6; } }`; document.head.appendChild(styleSheet);
    </script>
</body>
</html>

